<?xml version="1.0"?>
<!--
  基础仿真启动文件
  ==================

  启动 MAVROS 并连接到 PX4 SITL

  使用方法:
    1. 先启动 PX4: cd ~/PX4-Autopilot && make px4_sitl gazebo
    2. 再启动本文件: roslaunch uav_sim base_simulation.launch
-->
<launch>
    <!-- MAVROS 节点 -->
    <include file="$(find mavros)/launch/px4.launch">
        <!-- PX4 SITL 默认 UDP 端口 -->
        <arg name="fcu_url" value="udp://:14540@127.0.0.1:14557"/>
        <arg name="gcs_url" value=""/>
        <arg name="tgt_system" value="1"/>
        <arg name="tgt_component" value="1"/>
    </include>

    <!-- 可选: TF 广播 -->
    <node pkg="tf" type="static_transform_publisher" name="map_to_world"
          args="0 0 0 0 0 0 map world 100"/>
</launch>
